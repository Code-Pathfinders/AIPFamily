# ç«¯å£é…ç½®è¯´æ˜

## ğŸ“¡ ç«¯å£åˆ†é…

### åç«¯ç«¯å£ï¼š5000
- **åè®®**ï¼šHTTP
- **å®Œæ•´åœ°å€**ï¼šhttp://localhost:5000
- **ç”¨é€”**ï¼š
  - RESTful API æ¥å£
  - Swagger API æ–‡æ¡£

### å‰ç«¯ç«¯å£ï¼š5173
- **åè®®**ï¼šHTTP
- **å®Œæ•´åœ°å€**ï¼šhttp://localhost:5173
- **ç”¨é€”**ï¼š
  - Vue 3 å‰ç«¯åº”ç”¨
  - å¼€å‘æœåŠ¡å™¨

## ğŸ”§ åç«¯ç«¯å£é…ç½®

### Visual Studio é…ç½®æ–‡ä»¶

**æ–‡ä»¶ä½ç½®**ï¼š`Backend/WebAPI/Properties/launchSettings.json`

```json
{
  "profiles": {
    "http": {
      "commandName": "Project",
      "launchBrowser": true,
      "applicationUrl": "http://localhost:5000",
      "environmentVariables": {
        "ASPNETCORE_ENVIRONMENT": "Development"
      }
    }
  }
}
```

### ä¿®æ”¹åç«¯ç«¯å£

å¦‚éœ€ä¿®æ”¹åç«¯ç«¯å£ï¼Œè¯·åŒæ—¶ä¿®æ”¹ä»¥ä¸‹ä½ç½®ï¼š

1. **åç«¯é…ç½®**ï¼š`Backend/WebAPI/Properties/launchSettings.json`
   ```json
   "applicationUrl": "http://localhost:æ–°ç«¯å£å·"
   ```

2. **å‰ç«¯ä»£ç†é…ç½®**ï¼š`Frontend/vite.config.ts`
   ```typescript
   proxy: {
     '/api': {
       target: 'http://localhost:æ–°ç«¯å£å·',
       changeOrigin: true
     }
   }
   ```

## ğŸ¨ å‰ç«¯ç«¯å£é…ç½®

### Vite é…ç½®æ–‡ä»¶

**æ–‡ä»¶ä½ç½®**ï¼š`Frontend/vite.config.ts`

```typescript
export default defineConfig({
  server: {
    port: 5173,
    proxy: {
      '/api': {
        target: 'http://localhost:5000',
        changeOrigin: true
      }
    }
  }
})
```

### ä¿®æ”¹å‰ç«¯ç«¯å£

ä¿®æ”¹ `Frontend/vite.config.ts` ä¸­çš„ `server.port`ï¼š

```typescript
server: {
  port: æ–°ç«¯å£å·,  // ä¾‹å¦‚ï¼š3000
  proxy: {
    '/api': {
      target: 'http://localhost:5000',
      changeOrigin: true
    }
  }
}
```

## ğŸŒ API ä»£ç†é…ç½®

å‰ç«¯é€šè¿‡ Vite çš„ä»£ç†åŠŸèƒ½è®¿é—®åç«¯ APIï¼š

- **å‰ç«¯è¯·æ±‚**ï¼š`http://localhost:5173/api/families`
- **ä»£ç†è½¬å‘**ï¼š`http://localhost:5000/api/families`

### ä»£ç†è§„åˆ™

```typescript
proxy: {
  '/api': {                              // åŒ¹é…ä»¥ /api å¼€å¤´çš„è¯·æ±‚
    target: 'http://localhost:5000',     // è½¬å‘åˆ°åç«¯åœ°å€
    changeOrigin: true                   // ä¿®æ”¹è¯·æ±‚å¤´çš„ origin
  }
}
```

## ğŸ” ç«¯å£å ç”¨æ£€æŸ¥

### Windows ç³»ç»Ÿ

æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨ï¼š

```powershell
# æ£€æŸ¥ 5000 ç«¯å£
netstat -ano | findstr :5000

# æ£€æŸ¥ 5173 ç«¯å£
netstat -ano | findstr :5173
```

ç»ˆæ­¢å ç”¨ç«¯å£çš„è¿›ç¨‹ï¼š

```powershell
# æ ¹æ® PID ç»ˆæ­¢è¿›ç¨‹
taskkill /PID è¿›ç¨‹ID /F
```

### å¸¸è§ç«¯å£å†²çª

å¦‚æœç«¯å£è¢«å ç”¨ï¼Œå¯ä»¥é€‰æ‹©ä»¥ä¸‹æ–¹æ¡ˆï¼š

1. **ç»ˆæ­¢å ç”¨è¿›ç¨‹**ï¼ˆæ¨èï¼‰
2. **ä¿®æ”¹é¡¹ç›®ç«¯å£**ï¼ˆå‚è€ƒä¸Šè¿°é…ç½®æ–¹æ³•ï¼‰

## ğŸ“‹ ç«¯å£é…ç½®æ£€æŸ¥æ¸…å•

å¯åŠ¨é¡¹ç›®å‰ï¼Œè¯·ç¡®è®¤ï¼š

- [ ] åç«¯ç«¯å£ 5000 æœªè¢«å ç”¨
- [ ] å‰ç«¯ç«¯å£ 5173 æœªè¢«å ç”¨
- [ ] åç«¯ `launchSettings.json` é…ç½®æ­£ç¡®
- [ ] å‰ç«¯ `vite.config.ts` ä»£ç†é…ç½®æ­£ç¡®
- [ ] å‰åç«¯ç«¯å£é…ç½®ä¸€è‡´

## ğŸš€ å¯åŠ¨é¡ºåº

1. **å…ˆå¯åŠ¨åç«¯**ï¼ˆç«¯å£ 5000ï¼‰
   - Visual Studioï¼šæŒ‰ F5
   - å‘½ä»¤è¡Œï¼š`dotnet run`

2. **å†å¯åŠ¨å‰ç«¯**ï¼ˆç«¯å£ 5173ï¼‰
   - å‘½ä»¤è¡Œï¼š`npm run dev`

3. **è®¿é—®åº”ç”¨**
   - å‰ç«¯ç•Œé¢ï¼šhttp://localhost:5173
   - API æ–‡æ¡£ï¼šhttp://localhost:5000

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **CORS é…ç½®**
   - åç«¯å·²é…ç½®å…è®¸æ‰€æœ‰æ¥æºçš„è·¨åŸŸè¯·æ±‚
   - é…ç½®ä½ç½®ï¼š`Backend/WebAPI/Program.cs`

2. **é˜²ç«å¢™è®¾ç½®**
   - ç¡®ä¿é˜²ç«å¢™å…è®¸ 5000 å’Œ 5173 ç«¯å£
   - Windows å¯èƒ½ä¼šå¼¹å‡ºé˜²ç«å¢™æç¤ºï¼Œè¯·å…è®¸è®¿é—®

3. **æµè§ˆå™¨ç¼“å­˜**
   - å¦‚é‡åˆ°é—®é¢˜ï¼Œå°è¯•æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
   - æˆ–ä½¿ç”¨æ— ç—•æ¨¡å¼è®¿é—®

## ğŸ”„ ç«¯å£ä¿®æ”¹ç¤ºä¾‹

### ç¤ºä¾‹ï¼šä¿®æ”¹ä¸º 3000 å’Œ 8080

#### åç«¯æ”¹ä¸º 8080

`Backend/WebAPI/Properties/launchSettings.json`ï¼š
```json
"applicationUrl": "http://localhost:8080"
```

#### å‰ç«¯æ”¹ä¸º 3000

`Frontend/vite.config.ts`ï¼š
```typescript
server: {
  port: 3000,
  proxy: {
    '/api': {
      target: 'http://localhost:8080',
      changeOrigin: true
    }
  }
}
```

## ğŸ“ æ•…éšœæ’æŸ¥

### é—®é¢˜1ï¼šåç«¯å¯åŠ¨å¤±è´¥ï¼Œæç¤ºç«¯å£è¢«å ç”¨

**è§£å†³æ–¹æ¡ˆ**ï¼š
```powershell
# æŸ¥æ‰¾å ç”¨ 5000 ç«¯å£çš„è¿›ç¨‹
netstat -ano | findstr :5000

# ç»ˆæ­¢è¿›ç¨‹ï¼ˆæ›¿æ¢ä¸ºå®é™…çš„ PIDï¼‰
taskkill /PID xxxx /F
```

### é—®é¢˜2ï¼šå‰ç«¯æ— æ³•è®¿é—®åç«¯ API

**æ£€æŸ¥é¡¹**ï¼š
1. åç«¯æ˜¯å¦æ­£å¸¸è¿è¡Œï¼ˆè®¿é—® http://localhost:5000ï¼‰
2. å‰ç«¯ä»£ç†é…ç½®æ˜¯å¦æ­£ç¡®
3. æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯

### é—®é¢˜3ï¼šä¿®æ”¹ç«¯å£åæ— æ³•è®¿é—®

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ç¡®è®¤å‰åç«¯ç«¯å£é…ç½®ä¸€è‡´
2. é‡å¯å‰åç«¯æœåŠ¡
3. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜

---

**é…ç½®å®Œæˆå**ï¼Œè¯·æŒ‰ç…§å¯åŠ¨é¡ºåºè¿è¡Œé¡¹ç›®ï¼Œå³å¯æ­£å¸¸ä½¿ç”¨ï¼
